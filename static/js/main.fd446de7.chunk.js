(this["webpackJsonpstudy-app"]=this["webpackJsonpstudy-app"]||[]).push([[0],{30:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(15),c=a.n(s),l=a(8),u=a(6),i=a(1),o=function(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("asignaturas"))),t=Object(u.a)(e,2),a=t[0];t[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)("h6",{children:"Lista de asignaturas"}),a?a.map((function(e){return Object(i.jsx)("div",{data:e,children:Object(i.jsx)(l.b,{to:{pathname:"/asignatura/"+e.id+"/"+e.name},className:"btn btn-success m-1",children:e.name})},e.id)})):null]})},b=function(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("asignaturas"))),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),c=Object(u.a)(s,2),l=c[0],b=c[1],j=function(e){if(e.preventDefault(),l){if(a){var t=JSON.parse(localStorage.getItem("asignaturas"));t.push({id:Number(a.length)+1,name:l}),localStorage.setItem("asignaturas",JSON.stringify(t))}else{var n=[];n.push({id:1,name:l}),localStorage.setItem("asignaturas",JSON.stringify(n))}r(JSON.parse(localStorage.getItem("asignaturas"))),b("")}};return Object(i.jsxs)("div",{className:"text-center mt-3 container",children:[Object(i.jsx)("h4",{children:"Study App"}),Object(i.jsxs)("form",{className:"form-group",onSubmit:j,children:[Object(i.jsx)("p",{children:"A\xf1adir asignatura"}),Object(i.jsx)("input",{type:"text",className:"form-control w-auto mb-3 mr-auto ml-auto",value:l,onChange:function(e){b(e.target.value)}}),Object(i.jsx)("button",{className:"btn btn-primary",onClick:j,children:"A\xf1adir"})]}),a?Object(i.jsx)(o,{},a.length+1):null]})},j=a(2),m=function(){var e=Object(j.f)(),t=e.params.id,a=e.params.name,s=Object(n.useState)(JSON.parse(localStorage.getItem(t+"_"+a))),c=Object(u.a)(s,2),o=c[0],b=c[1],m=Object(n.useState)(""),p=Object(u.a)(m,2),g=p[0],O=p[1],d=Object(n.useState)(""),f=Object(u.a)(d,2),h=f[0],x=f[1],S=Object(n.useRef)(null),N=function(e){if(e.preventDefault(),""===g)return null;if(o){var n=JSON.parse(localStorage.getItem(t+"_"+a));n.push({pregunta:g,respuesta:h}),localStorage.setItem(t+"_"+a,JSON.stringify(n))}else{var r=[];r.push({pregunta:g,respuesta:h}),localStorage.setItem(t+"_"+a,JSON.stringify(r))}b(JSON.parse(localStorage.getItem(t+"_"+a))),O(""),x(""),S.current.focus()},v=Object(n.useState)(!1),y=Object(u.a)(v,2),J=y[0],I=y[1],C=Object(n.useState)(!1),k=Object(u.a)(C,2),_=k[0],A=k[1],M=Object(n.useState)(null),R=Object(u.a)(M,2),w=R[0],D=R[1],L=Object(n.useState)(!1),P=Object(u.a)(L,2),E=P[0],z=P[1],B=Object(n.useMemo)((function(){return Array(o?o.length:0).fill(null).map((function(e){return r.a.createRef()}))}),[o]),F=Object(n.useMemo)((function(){return Array(o?o.length:0).fill(null).map((function(e){return r.a.createRef()}))}),[o]),Q=Object(n.useMemo)((function(){return Array(o?o.length:0).fill(null).map((function(e){return r.a.createRef()}))}),[o]),V=function(e){for(var n=[],r=0;r<o.length;r++)if(r!==e)n.push(o[r]);else{var s={pregunta:""==B[e].current.value?o[r].pregunta:B[e].current.value,respuesta:""==F[e].current.value?o[r].respuesta:F[e].current.value};n.push(s),B[e].current.value="",F[e].current.value=""}localStorage.setItem(t+"_"+a,JSON.stringify(n)),b(JSON.parse(localStorage.getItem(t+"_"+a)))};return Object(i.jsxs)("div",{className:"container mb-5",children:[Object(i.jsx)("h3",{className:"text-center mt-3",children:a}),Object(i.jsxs)("p",{children:["N\xfamero de preguntas: ",o?o.length:0]}),Object(i.jsxs)("form",{onSubmit:N,children:[Object(i.jsx)("p",{children:"A\xf1adir pregunta:"}),Object(i.jsx)("input",{ref:S,type:"text",className:"form-control mb-3",value:g,onChange:function(e){O(e.target.value)}}),Object(i.jsx)("p",{children:"A\xf1adir respuesta:"}),Object(i.jsx)("input",{type:"text",className:"form-control mb-3",value:h,onChange:function(e){x(e.target.value)}}),Object(i.jsx)("button",{className:"btn btn-primary",onClick:N,children:"Confirmar"})]}),Object(i.jsxs)("div",{className:"alert alert-info mt-4",children:[Object(i.jsx)("button",{className:"btn btn-secondary",onClick:function(){if(o&&o.length>0){A(!1);var e=o.slice(),t=e[Math.floor(Math.random()*e.length)];D(t),I(!0)}else alert("No tienes ninguna pregunta de esta asignatura.")},children:"Pregunta al azar"}),J?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("p",{className:"mt-4",children:[Object(i.jsx)("b",{children:"Pregunta:"})," ",w.pregunta]}),_?Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Respuesta: "}),w.respuesta]}):null,Object(i.jsx)("button",{className:"btn btn-success",onClick:function(){A(!0)},children:"Mostrar respuesta"})]}):null]}),Object(i.jsx)("div",{className:"mb-2",children:Object(i.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){o?z(!E):alert("No tienes ninguna pregunta de esta asignatura")},children:"Mostrar / Ocultar todas las preguntas"})}),E?Object(i.jsx)("ol",{children:o.map((function(e,n){return Object(i.jsxs)("li",{data:e,className:"mt-3",children:[Object(i.jsx)("b",{children:"Pregunta:"})," ",e.pregunta,Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Respuesta:"})," ",e.respuesta]}),Object(i.jsx)("button",{className:"btn btn-danger mr-2 mt-2",onClick:function(){return function(e){if(window.confirm("\xbfQuieres eliminar la pregunta?")){for(var n=[],r=0;r<o.length;r++)r!==e&&n.push(o[r]);localStorage.setItem(t+"_"+a,JSON.stringify(n)),b(JSON.parse(localStorage.getItem(t+"_"+a)))}}(n)},children:"Eliminar pregunta"}),Object(i.jsx)("button",{className:"btn btn-warning mt-2",onClick:function(){return B[e=n].current.classList.toggle("d-none"),F[e].current.classList.toggle("d-none"),void Q[e].current.classList.toggle("d-none");var e},children:"Editar pregunta"}),Object(i.jsxs)("form",{className:"mt-2",onSubmit:function(e){return e.preventDefault(),V(n)},children:[Object(i.jsx)("input",{ref:B[n],type:"text",className:"form-control mb-2 d-none",placeholder:"Pregunta..."}),Object(i.jsx)("input",{ref:F[n],type:"text",className:"form-control mb-3 d-none",placeholder:"Respuesta..."}),Object(i.jsx)("button",{ref:Q[n],className:"btn btn-success d-none",onClick:function(e){return e.preventDefault(),V(n)},children:"Confirmar cambio"})]})]},n)}))}):null,Object(i.jsx)(l.b,{to:"/",className:"btn btn-outline-primary mt-2",children:"Volver al men\xfa"})]})};var p=function(){return Object(i.jsx)(l.a,{basename:"/study-app",children:Object(i.jsxs)(j.c,{children:[Object(i.jsx)(j.a,{path:"/",exact:!0,component:b}),Object(i.jsx)(j.a,{path:"/asignatura/:id/:name",exact:!0,component:m})]})})};c.a.render(Object(i.jsx)(l.a,{children:Object(i.jsx)(p,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.fd446de7.chunk.js.map