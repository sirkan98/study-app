(this["webpackJsonpstudy-app"]=this["webpackJsonpstudy-app"]||[]).push([[0],{47:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(22),c=a.n(s),l=a(8),o=a(3),i=a(0),u=function(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("asignaturas"))),t=Object(o.a)(e,2),a=t[0];t[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)("h6",{children:"Lista de asignaturas"}),a?a.map((function(e,t){return Object(i.jsx)("div",{data:e,children:Object(i.jsx)(l.b,{to:{pathname:"/asignatura/"+e.name},className:"btn btn-success m-1",children:e.name})},t)})):null]})},b=function(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("asignaturas"))),t=Object(o.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),c=Object(o.a)(s,2),l=c[0],b=c[1],j=function(e){if(e.preventDefault(),l){if(a){var t=JSON.parse(localStorage.getItem("asignaturas"));t.push({name:l}),localStorage.setItem("asignaturas",JSON.stringify(t))}else{var n=[];n.push({name:l}),localStorage.setItem("asignaturas",JSON.stringify(n))}r(JSON.parse(localStorage.getItem("asignaturas"))),b("")}};return Object(i.jsxs)("div",{className:"text-center mt-3 container",children:[Object(i.jsx)("h4",{children:"Study App"}),Object(i.jsxs)("form",{className:"form-group",onSubmit:j,children:[Object(i.jsx)("p",{children:"A\xf1adir asignatura"}),Object(i.jsx)("input",{type:"text",className:"form-control w-auto mb-3 mr-auto ml-auto",value:l,onChange:function(e){b(e.target.value)}}),Object(i.jsx)("button",{className:"btn btn-primary",onClick:j,children:"A\xf1adir"})]}),a?Object(i.jsx)(u,{},a.length+1):null]})},j=a(2),m=a(14),g=a(10),h=a.n(g),O=a.p+"static/media/warning.c9fa5ee8.ico",d=function(){var e=Object(j.g)().params.name,t=Object(n.useState)(null),a=Object(o.a)(t,2),s=a[0],c=a[1],u=Object(n.useState)(JSON.parse(localStorage.getItem(e))),b=Object(o.a)(u,2),g=b[0],d=b[1],p=Object(n.useState)(null),f=Object(o.a)(p,2),x=f[0],v=f[1];Object(n.useEffect)((function(){if(g){for(var e=[],t=0;t<g.length;t++)e.push(!1);v(e)}}),[g]);var S=Object(n.useState)(""),N=Object(o.a)(S,2),y=N[0],I=N[1],C=Object(n.useRef)(null),k=Object(n.useState)(!1),w=Object(o.a)(k,2),J=w[0],M=w[1],B=Object(n.useState)(!1),A=Object(o.a)(B,2),R=A[0],_=A[1],T=Object(n.useState)(null),P=Object(o.a)(T,2),E=P[0],D=P[1],L=Object(n.useState)(!1),q=Object(o.a)(L,2),z=q[0],F=q[1],V=(Object(n.useMemo)((function(){return Array(g?g.length:0).fill(null).map((function(e){return r.a.createRef()}))}),[g]),Object(n.useMemo)((function(){return Array(g?g.length:0).fill(null).map((function(e){return r.a.createRef()}))}),[g]),Object(n.useMemo)((function(){return Array(g?g.length:0).fill(null).map((function(e){return r.a.createRef()}))}),[g]),Object(n.useState)(!1)),Q=Object(o.a)(V,2),G=Q[0],H=Q[1];Object(n.useEffect)((function(){}),[G]);return Object(i.jsxs)("div",{className:"container mb-5",children:[Object(i.jsx)("h3",{className:"text-center mt-3",children:e}),Object(i.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),g){g.length;for(var a={name:y},n=[],r=0;r<g.length;r++)n.push(g[r]);n.push(a),localStorage.setItem(e,JSON.stringify(n)),d(JSON.parse(localStorage.getItem(e)))}else{var s={name:y},c=[];c.push(s),localStorage.setItem(e,JSON.stringify(c)),d(JSON.parse(localStorage.getItem(e)))}},children:[Object(i.jsx)("p",{children:"A\xf1adir tema:"}),Object(i.jsx)("input",{ref:C,type:"text",className:"form-control mb-3",value:y,onChange:function(e){I(e.target.value)}}),Object(i.jsx)("button",{className:"btn btn-primary",children:"Confirmar"})]}),Object(i.jsxs)("div",{className:"mt-3",children:[Object(i.jsx)("h4",{children:"Temas:"}),Object(i.jsx)("button",{className:"btn btn-outline-info",onClick:function(){if(g&&g.length>0)if(G){H(!1);for(var e=[],t=0;t<g.length;t++)e.push(!1);v(e)}else{H(!0);for(var a=[],n=0;n<g.length;n++)a.push(!0);v(a)}else alert("No existe ning\xfan tema.")},children:"Seleccionar todos"}),g&&x?g.map((function(t,a){return Object(i.jsxs)("div",{className:"form-check",children:[Object(i.jsx)("input",{type:"checkbox",className:"align-middle mr-2",onChange:function(){return function(e){var t=Object(m.a)(x);t[e]=!x[e],console.log(t),v(t)}(a)},checked:!!x[a]&&x[a]}),Object(i.jsx)("label",{className:"form-check-label mt-2",children:Object(i.jsx)(l.b,{to:{pathname:"/asignatura/"+e+"/"+t.name},className:"btn btn-success align-middle",children:t.name})})]},a)})):null]}),Object(i.jsxs)("div",{className:"alert alert-info mt-4",children:[Object(i.jsx)("button",{className:"btn btn-secondary",onClick:function(){if(g&&g.length>0){_(!1);var t=g.slice(),a=t[Math.floor(Math.random()*t.length)];D(a),M(!0);var n=!1;if(x){console.log("fes");for(var r=0;r<x.length;r++)if(x[r]){n=!0;break}}if(n){console.log(g);for(var s=[],l=0;l<g.length;l++)x[l]&&s.push(JSON.parse(localStorage.getItem(e+"_"+g[l].name)));M(!0);for(var o=[],i=0;i<s.length;i++)s[i]&&o.push.apply(o,Object(m.a)(s[i]));console.log(o),c(o);var u=o[Math.floor(Math.random()*o.length)];if(u){var b={pregunta:u.pregunta,respuesta:u.respuesta};D(b)}else alert("No hay preguntas en los temas seleccionados.")}else alert("Tienes que seleccionar alg\xfan tema")}else alert("No tienes ninguna pregunta de esta asignatura.")},children:"Pregunta al azar de los temas seleccionados"}),J?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("p",{className:"mt-4",children:[Object(i.jsx)("b",{children:"Pregunta:"})," ",E.pregunta]}),R?Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Respuesta: "}),E.respuesta]}):null,Object(i.jsx)("button",{className:"btn btn-success",onClick:function(){_(!0)},children:"Mostrar respuesta"})]}):null]}),Object(i.jsx)("div",{className:"mb-2",children:Object(i.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){if(g){if(g&&g.length>0){_(!1);var t=g.slice(),a=t[Math.floor(Math.random()*t.length)];D(a);var n=!1;if(x)for(var r=0;r<x.length;r++)if(x[r]){n=!0;break}if(n){console.log(g);for(var s=[],l=0;l<g.length;l++)x[l]&&s.push(JSON.parse(localStorage.getItem(e+"_"+g[l].name)));for(var o=[],i=0;i<s.length;i++)s[i]&&o.push.apply(o,Object(m.a)(s[i]));console.log(o),c(o)}else alert("Tienes que seleccionar alg\xfan tema")}else alert("No tienes ninguna pregunta de esta asignatura.");F(!z)}else alert("No tienes ninguna pregunta de esta asignatura")},children:"Mostrar / Ocultar las preguntas de los temas seleccionados"})}),z&&s?Object(i.jsx)("ol",{children:s.map((function(e,t){return Object(i.jsxs)("li",{data:e,className:"mt-3",children:[Object(i.jsx)("b",{children:"Pregunta:"})," ",e.pregunta,Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Respuesta:"})," ",e.respuesta]})]},t)}))}):null,Object(i.jsx)("div",{children:Object(i.jsxs)("button",{onClick:function(){h.a.fire({title:"\xbfEst\xe1s seguro?",text:"Perder\xe1s todas las preguntas de esta asignatura y no podr\xe1s volver a recuperarlas.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Borrar asignatura",cancelButtonText:"Cancelar"}).then((function(t){t.isConfirmed&&h.a.fire("Asignatura borrada","","success").then((function(){var t=JSON.parse(localStorage.getItem("asignaturas"));console.log(t);for(var a=[],n=0;n<t.length;n++)t[n].name!==e&&a.push({name:t[n].name});localStorage.removeItem(e),localStorage.setItem("asignaturas",JSON.stringify(a));for(var r=0;r<window.localStorage.length;r++){var s=window.localStorage.key(r);s.slice(0,e.length+1)===e+"_"&&(console.log("gdsgwef"),localStorage.removeItem(s))}window.location.replace("/")}))}))},className:"btn btn-danger",children:[Object(i.jsx)("img",{src:O,alt:"warningIco",width:"20px"}),Object(i.jsx)("span",{children:" Borrar asignatura "}),Object(i.jsx)("img",{src:O,alt:"warningIco",width:"20px"})]})}),Object(i.jsx)(l.b,{to:"/",className:"btn btn-outline-primary mt-2",children:"Volver al men\xfa"})]})},p=function(){var e=Object(j.f)(),t=Object(j.g)(),a=t.params.name,s=t.params.nameTema,c=Object(n.useState)(JSON.parse(localStorage.getItem(a+"_"+s))),l=Object(o.a)(c,2),u=l[0],b=l[1],m=Object(n.useState)(""),g=Object(o.a)(m,2),d=g[0],p=g[1],f=Object(n.useState)(""),x=Object(o.a)(f,2),v=x[0],S=x[1],N=Object(n.useRef)(null),y=function(e){if(e.preventDefault(),""===d)return null;if(u){var t=JSON.parse(localStorage.getItem(a+"_"+s));t.push({pregunta:d,respuesta:v}),localStorage.setItem(a+"_"+s,JSON.stringify(t))}else{var n=[];n.push({pregunta:d,respuesta:v}),localStorage.setItem(a+"_"+s,JSON.stringify(n))}b(JSON.parse(localStorage.getItem(a+"_"+s))),p(""),S(""),N.current.focus()},I=Object(n.useState)(!1),C=Object(o.a)(I,2),k=C[0],w=C[1],J=Object(n.useState)(!1),M=Object(o.a)(J,2),B=M[0],A=M[1],R=Object(n.useState)(null),_=Object(o.a)(R,2),T=_[0],P=_[1],E=Object(n.useState)(!1),D=Object(o.a)(E,2),L=D[0],q=D[1],z=Object(n.useMemo)((function(){return Array(u?u.length:0).fill(null).map((function(e){return r.a.createRef()}))}),[u]),F=Object(n.useMemo)((function(){return Array(u?u.length:0).fill(null).map((function(e){return r.a.createRef()}))}),[u]),V=Object(n.useMemo)((function(){return Array(u?u.length:0).fill(null).map((function(e){return r.a.createRef()}))}),[u]),Q=function(e){for(var t=[],n=0;n<u.length;n++)if(n!==e)t.push(u[n]);else{var r={pregunta:""==z[e].current.value?u[n].pregunta:z[e].current.value,respuesta:""==F[e].current.value?u[n].respuesta:F[e].current.value};t.push(r),z[e].current.value="",F[e].current.value=""}localStorage.setItem(a+"_"+s,JSON.stringify(t)),b(JSON.parse(localStorage.getItem(a+"_"+s)))};return Object(i.jsxs)("div",{className:"container mb-5",children:[Object(i.jsx)("h3",{className:"text-center mt-3",children:a}),Object(i.jsx)("h5",{className:"text-center mt-3",children:s}),Object(i.jsxs)("p",{children:["N\xfamero de preguntas: ",u?u.length:0]}),Object(i.jsxs)("form",{onSubmit:y,children:[Object(i.jsx)("p",{children:"A\xf1adir pregunta:"}),Object(i.jsx)("input",{ref:N,type:"text",className:"form-control mb-3",value:d,onChange:function(e){p(e.target.value)}}),Object(i.jsx)("p",{children:"A\xf1adir respuesta:"}),Object(i.jsx)("input",{type:"text",className:"form-control mb-3",value:v,onChange:function(e){S(e.target.value)}}),Object(i.jsx)("button",{className:"btn btn-primary",onClick:y,children:"Confirmar"})]}),Object(i.jsxs)("div",{className:"alert alert-info mt-4",children:[Object(i.jsx)("button",{className:"btn btn-secondary",onClick:function(){if(u&&u.length>0){A(!1);var e=u.slice(),t=e[Math.floor(Math.random()*e.length)];P(t),w(!0)}else alert("No tienes ninguna pregunta de esta asignatura.")},children:"Pregunta al azar"}),k?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("p",{className:"mt-4",children:[Object(i.jsx)("b",{children:"Pregunta:"})," ",T.pregunta]}),B?Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Respuesta: "}),T.respuesta]}):null,Object(i.jsx)("button",{className:"btn btn-success",onClick:function(){A(!0)},children:"Mostrar respuesta"})]}):null]}),Object(i.jsx)("div",{className:"mb-2",children:Object(i.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){u?q(!L):alert("No tienes ninguna pregunta de este tema")},children:"Mostrar / Ocultar todas las preguntas"})}),L?Object(i.jsx)("ol",{children:u.map((function(e,t){return Object(i.jsxs)("li",{data:e,className:"mt-3",children:[Object(i.jsx)("b",{children:"Pregunta:"})," ",e.pregunta,Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Respuesta:"})," ",e.respuesta]}),Object(i.jsx)("button",{className:"btn btn-danger mr-2 mt-2",onClick:function(){return function(e){if(window.confirm("\xbfQuieres eliminar la pregunta?")){for(var t=[],n=0;n<u.length;n++)n!==e&&t.push(u[n]);localStorage.setItem(a+"_"+s,JSON.stringify(t)),b(JSON.parse(localStorage.getItem(a+"_"+s)))}}(t)},children:"Eliminar pregunta"}),Object(i.jsx)("button",{className:"btn btn-warning mt-2",onClick:function(){return z[e=t].current.classList.toggle("d-none"),F[e].current.classList.toggle("d-none"),void V[e].current.classList.toggle("d-none");var e},children:"Editar pregunta"}),Object(i.jsxs)("form",{className:"mt-2",onSubmit:function(e){return e.preventDefault(),Q(t)},children:[Object(i.jsx)("input",{ref:z[t],type:"text",className:"form-control mb-2 d-none",placeholder:"Pregunta..."}),Object(i.jsx)("input",{ref:F[t],type:"text",className:"form-control mb-3 d-none",placeholder:"Respuesta..."}),Object(i.jsx)("button",{ref:V[t],className:"btn btn-success d-none",onClick:function(e){return e.preventDefault(),Q(t)},children:"Confirmar cambio"})]})]},t)}))}):null,Object(i.jsx)("div",{children:Object(i.jsxs)("button",{onClick:function(){h.a.fire({title:"\xbfEst\xe1s seguro?",text:"Perder\xe1s todas las preguntas de esta tema y no podr\xe1s volver a recuperarlas.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Borrar tema",cancelButtonText:"Cancelar"}).then((function(e){e.isConfirmed&&h.a.fire("Tema borrado","","success").then((function(){localStorage.removeItem(a+"_"+s);for(var e=JSON.parse(localStorage.getItem(a)),t=[],n=0;n<e.length;n++)e[n].name===s||t.push({name:e[n].name});localStorage.setItem(a,JSON.stringify(t)),window.location.replace("/")}))}))},className:"btn btn-danger",children:[Object(i.jsx)("img",{src:O,alt:"warningIco",width:"20px"}),Object(i.jsx)("span",{children:" Borrar tema "}),Object(i.jsx)("img",{src:O,alt:"warningIco",width:"20px"})]})}),Object(i.jsx)("button",{className:"btn btn-outline-primary mt-2",onClick:e.goBack,children:"Volver a la asignatura"})]})};var f=function(){return Object(i.jsx)(l.a,{basename:"https://sirkan98.github.io/study-app/",children:Object(i.jsxs)(j.c,{children:[Object(i.jsx)(j.a,{path:"/",exact:!0,component:b}),Object(i.jsx)(j.a,{path:"/asignatura/:name",exact:!0,component:d}),Object(i.jsx)(j.a,{path:"/asignatura/:name/:nameTema",exact:!0,component:p})]})})};c.a.render(Object(i.jsx)(l.a,{children:Object(i.jsx)(f,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.08abd8a8.chunk.js.map